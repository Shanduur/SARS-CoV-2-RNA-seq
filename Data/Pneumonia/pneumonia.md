The exact immunopathophysiology of COVID-19 remains clouded by methodological heterogeneity and a lack of relevant disease controls.
The absence of single-cell investigations into the broader population of patients with community-acquired pneumonia (CAP) renders it difficult to distinguish immune features unique to COVID-19 from the common characteristics of a dysregulated host response to pneumonia.
We performed integrated single-cell transcriptomic and proteomic analyses in PBMCs from a strictly matched cohort of eight patients with COVID-19, eight patients with CAP, and four non-infectious control subjects. 
With this balanced, multi-omic approach we describe diverging transcriptional and phenotypic patterns in T cell, NK cell and monocyte populations between patients with CAP caused by either SARS-CoV-2, Influenza A or other pathogens, and thereby expand our understanding of the peripheral immune response in different forms of CAP.

Single-cell transcriptomic and proteomic analysis of PBMCs from eight COVID-19 patients, 8 CAP patients (3 CAP-Flu) and 4 matched controls.
Comparisons: COVID-19 vs controls, CAP vs controls, COVID-19 vs CAP.

1. For all patients and controls, heparin anticoagulated whole-blood was processed within 4 hours of sampling. PBMCs were separated by density gradient centrifugation using Ficoll-Paque Plus medium (GE Healthcare Life science, Little Chalfont, UK) and washed twice, first with cold PBS and then with cold PBS supplemented with 0.5% sterile endotoxin-free bovine serum albumin (Divbio Science Europe, Breda, the Netherlands). PBMC’s were resuspended in PBS containing 0.5% BSA and 2mm EDTA and the concentration PBMCs was determined using a Coulter Counter. PBMCs were resuspended in IMDM medium containing 20% filter-sterilized fetal calf serum and pen/strep, after which an equal part of the same medium containing 20% DMSO was slowly added while continuously stirring and working on ice. 3-5 million PBMCs were viably stored in 1.8 ml cryogenic vials (Corning #430388), which were steadily brought to -80 degrees Celsius. After 24-72 hours, the cells were transferred to liquid nitrogen storage until further analysis. After thawing, all samples averaged 90% viability as determined by FACS analysis. PBMCs were thawed, stained with viability dye and 500,000 cells were sorted using a FACS Sony Sorter selecting alive, singlet cells. The cells were incubated with FC blocker for 10 minutes, after which each sample was incubated with TotalSeq Hashtag antibody tags to enable multiplexing and subsequent deconvoluting. After Hashtag staining the cells were pooled into four pools of five samples, each sample contributing equally to their respective pool. Cells were counted manually by light microscopy and Neubauer chambers. Each pooled sample was then incubated for 30 minutes with our TotalSeq oligo-conjugated antibody panel (see the Key Resources Table) for later surface protein marker quantification.
1. Libraries were generated using the Chromium Single Cell 5′ Library & Gel Bead Kit v1.1 (10X genomics, Pleasanton, CA) following the manufacturer’s instructions. In short, pooled cells were loaded aiming the capture of 10,000 cells per pool. Libraries were generated according to standard protocol (Chromium Next GEM Single Cell V(D)J Reagent Kits v1.1 rev E). The amplified mRNA and antibody-derived tags were divided by size and sequenced separately.

1. Sample demultiplexing: We demultiplexed the pooled samples into individual samples based on the Hashtag antibodies, using the R package Seurat (v3) (Stuart et al., 2019).
1. Deconvolution: To deconvolute the cells belonging to each sample we used the R package Seurat (v3) (Stuart et al., 2019). The outputs derived from CellRanger were used to create two separate objects (one with the transcriptome alignment and one with the antibody plus hashtags (HTO) alignment). Initial objects were created using the function “Read10X”. We filtered both objects based on the cell barcode to keep only cells which were identified in both the transcriptome and in the antibody alignments. After this cell filtering, we used the function “CreateSeuratObject” to create a transcriptome-based Seurat object. The antibody derived data was filtered to maintain only the hashtag counts; later it was appended as a specific assay using the “CreateAssayObject” function. Antibody reads were normalized using the CLR method."
1. Cell demultiplexing: For cell demultiplexing we used the function “HTODemux” with the parameters “init=9”, “nsamples=10000” and “positive quantile” ranging between 0.999 and 0.9999999 per each sample, in order to maximize the number of singlets detected. Individual single cells were finally filtered based on their assigned “HTO_classification.global”= “Singlet”.
1. Normalizing HTO data: Antibody data was normalized using the Seurat function “NormalizeData” with the parameters “normalization.method” = ""CLR"" and “margin”=”2”, to indicate a normalization across cells.
1. Filtering: Cells were filtered based on number of features, number of genes and percentage of mitochondrial reads using Seurat “subset(object, subset = nCount_RNA > 1000 &nCount_RNA < 10000 & nFeature_RNA > 200 & percent.mt < 20)”.
1. Cell cycle correction and normalizing: We calculated cell cycle scores as following (“CellCycleScoring(Healthy_object_Cycle, s.features = s.genes, g2m.features = g2m.genes, set.ident = TRUE”) using a list of S phase and G2M phase genes preloaded in Seurat. Cells were then scaled and normalized using the function “SCTransform(object, vars.to.regress = c(""nCount_RNA"",""percent.mt"",""S.Score"", ""G2M.Score""))”."	"Cell cycle correction and normalizing: We calculated cell cycle scores as following (“CellCycleScoring(Healthy_object_Cycle, s.features = s.genes, g2m.features = g2m.genes, set.ident = TRUE”) using a list of S phase and G2M phase genes preloaded in Seurat. Cells were then scaled and normalized using the function “SCTransform(object, vars.to.regress = c(""nCount_RNA"",""percent.mt"",""S.Score"", ""G2M.Score""))”.
1. Genome_build: GRCh38
1. Supplementary_files_format_and_content: Each comparison (Covid - control, CAP - control, Covid-CAP) has a count and metadata file.
1. Supplementary_files_format_and_content: *_RNA_counts.csv: Comma-separated text file includes counts. HTO data are included in these files.
1. Supplementary_files_format_and_content: *_count_metadata.csv: Comma-separated text file includes metadata.
